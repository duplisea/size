---
title: "README"
author: "Daniel E. Duplisea"
date: "17 April 2019"
output: md_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Install and load package

```{r installsize, eval=FALSE, message=FALSE}
library(devtools)
install_github("duplisea/size")
```

Load the package
```{r loadccca, message=FALSE}
library(size)
```

## Plot the survey locations on a map of the Gulf
```{r mapsurvey, message=FALSE}
map.f()
points(-decdeg.f(ngsl.set$lon_deb*100),decdeg.f(ngsl.set$lat_deb*100),pch=".",col="red")
```


## PLF analysis with the installed dataset

The PLF for all species with a 30 cm threshold between small and large individuals
```{r PLFbase}
PLF.all= PLF.f(species.group="all",cutoff=30)
```

The PLF for all species with a 30 cm threshold between small and large individuals
```{r PLFdem}
PLF.dem= PLF.f(species.group="demersal",cutoff=30)
```

The PLF for all species with a 30 cm threshold between small and large individuals
```{r PLFgf}
PLF.gf= PLF.f(species.group="groundfish",cutoff=30)
```

The PLF for all species with a 30 cm threshold between small and large individuals
```{r PLFredish}
PLF.rf= PLF.f(species.group="code",codeqc=792,cutoff=20)
```


Plot the various PLF community indicators
```{r PLFplots}
ymax=max(c(PLF.all$plf,PLF.dem$plf,PLF.gf$plf))
plot(PLF.all$year, PLF.all$plf,xlab="Year",ylab="Proportion of individuals >=30cm",type="l",lwd=2,
  ylim=c(0,ymax))
lines(PLF.dem$year,PLF.dem$plf,col="blue",lwd=2)
lines(PLF.gf$year,PLF.gf$plf,col="green",lwd=2)
legend("topright",lwd=2,col=c("black","blue","green"),legend=c("everything","demersal","groundfish"),bty="n",cex=0.6)
```
